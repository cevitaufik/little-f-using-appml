var appmlObjects=[],w3schoolsWebSQLOK=!!window.openDatabase,x;function appml(e){var t;for(t=0;t<appmlObjects.length;t+=1)if(e==appmlObjects[t].appName)return appmlObjects[t]}function AppML(container,appsrc,appmlname){if("invoke"!=appmlname&&appmlObjects.push(this),this.appName=appmlname,void 0!==container&&(this.container="object"==typeof container?container:document.getElementById(container)),(void 0===this.container||null===this.container)&&""!==container&&void 0!==container)return window.alert("The container '"+container+"' does not exist."),-1;function manageTemplate(e){e.container&&(e.template=e.container.cloneNode(!0))}function appmlTrim(e){return e.replace(/^\s+|\s+$/gm,"")}function addClass(e,t){var i=e.className;if(i===t)return!1;if(0===i.indexOf(t+" "))return!1;if(i.indexOf(" "+t)>-1){if(i.indexOf(t)+t.length===i.length)return!1;if(i.indexOf(" "+t+" ")>-1)return!1}e.className=i+" "+t}function removeClass(e,t){var i=e.className;i=i===t?"":0===i.indexOf(t)?i.replace(t+" ",""):i.indexOf(t)+t.length===i.length?i.replace(" "+t,""):i.replace(" "+t+" ",""),e.className=i}function reformatDate(e,t){var i,a;return""!==e?(i=e.substr(t.indexOf("dd"),2),a=e.substr(t.indexOf("mm"),2),e.substr(t.indexOf("yyyy"),4)+"/"+a+"/"+i):""}function checkReplaceInnerHTML(e){var t,i,a,s=1;try{i=(t=e.cloneNode(!0)).innerHTML.length,a=t.innerHTML,t.innerHTML=a,i!==t.innerHTML.length&&(s=0)}catch(e){s=0}return s}function isDate(e){return null!==e&&!isNaN(e)&&"undefined"!==e.getDate}function localStorage(e,t){var i;w3schoolsWebSQLOK?("GET"===e.app.action&&(i=e.xmlHttp(e.appFile+"?r="+Math.random(),"","GET",!1),e.data=JSON.parse(i.responseText)),w3schoolsWebSQL1.runSQL(e,t)):e.displayMessage("Your browser does not support Local Storage Database (WebSQL).")}"object"==typeof window[appsrc]?this.dataObject=appsrc:this.dataSource=appsrc,this.error={},this.appmlID="",this.displayType="list",this.queryFields=[],this.queryValues=[],this.queryDisplayValues=[],this.queryTypes=[],this.queryOperators=[],this.queryDisplayOperators=[],this.orderBys=[],this.orderByDirections=[],this.maxRecords=0,this.data={},this.data.keyField="",this.data.filteritems=[],this.data.sortitems=[],this.invokeAppML=function(){var e,t,i,a,s,r,l,n;for(e=document.getElementsByTagName("*"),t=0;t<e.length;t+=1)e[t].getAttribute("appml-include-html")&&(i=e[t].cloneNode(!1),n=this.xmlHttp(e[t].getAttribute("appml-include-html"),"","GET",!1),i.removeAttribute("appml-include-html"),i.innerHTML=n.responseText,e[t].parentNode.replaceChild(i,e[t]));for(t=0;t<e.length;t+=1)!e[t].hasAttributes||null===e[t].getAttribute("appml-controller")&&null===e[t].getAttribute("appml-data")||(s=e[t].getAttribute("appml-controller"),a=e[t].getAttribute("appml-data"),r=e[t].id,e[t].removeAttribute("appml-controller"),(s||a)&&(new AppML(e[t],a,r),l=appmlObjects.length,s&&(appmlObjects[l-1].controller=s)));for(t=appmlObjects.length-1;t>-1;t-=1)if(appmlObjects[t].controller)if(void 0===window[appmlObjects[t].controller])window.alert("The controller "+s+" does not exist");else{if(appmlObjects[t].message="ready",-1==window[appmlObjects[t].controller](appmlObjects[t]))continue;appmlObjects[t].run()}else appmlObjects[t].run()},this.appmlInit=function(e){this.getData(1,e)},this.gotData=function(){this.message="loaded",this.controller&&window[this.controller](this),this.displayHTML()},this.run=function(e){if(-1===this.getData(1,e))return-1},this.fnpl=function(e){this.getData(e)},this.getData=function(e,t){var i,a,s,r,l,n=e,o="",p=null;if(t&&(this.appmlID=t),1===n&&(n="first"),n&&""!==n||(n="first"),"first"===n&&(i=1),"next"===n&&(i=this.data.recPos+this.rowsperpage),"previous"===n&&(i=this.data.recPos-this.rowsperpage)<1&&(i=1),"last"===n&&(i=-1),"same"===n&&(i=this.data.fromRec),this.dataSource){if(-1==this.dataSource.indexOf(".")&&-1==this.dataSource.indexOf("local?")&&(p="The datasource "+this.dataSource+" does not exist"),null==p&&this.dataSource.indexOf("?model=")>-1){if(this.data.records=[],"NULL"===this.appmlID&&(i=0),this.app={},this.app.displayType=this.displayType.toLowerCase(),this.app.action="GET",this.app.appmlid=this.appmlID,this.app.rowsperpage=this.rowsperpage,this.app.totalRecCounter=this.data.totalRecCounter,this.app.fromrec=i,this.app.filters={},this.app.filters.queryFields=this.queryFields,this.app.filters.queryOperators=this.queryOperators,this.app.filters.queryValues=this.queryValues,this.app.filters.orderBys=this.orderBys,this.app.filters.orderByDirections=this.orderByDirections,o=JSON.stringify(this.app),"local?model="===this.dataSource.substr(0,12))return l=".js",this.dataSource.substr(12).indexOf(".")>-1&&(l=""),this.appFile=this.dataSource.substr(12)+l,localStorage(this,this.callBack),-1;a=this.xmlHttp(this.dataSource,o,"POST",!1)}else null==p&&(a=this.xmlHttp(this.dataSource,"","GET",!1));if(null==p){try{this.data=JSON.parse(a.responseText)}catch(e){p=a.responseText}404==a.status&&(p="The page cannot be found: "+this.dataSource),this.data.error&&(p=this.data.error)}if(null!==p){""===(p=this.translate(p))&&(p="Empty response.");try{this.displayMessage(p)}catch(e){window.alert(p)}return-1}}else this.dataObject&&(this.data=window[this.dataObject]);if(this.data.dateFormat=this.data.dateFormat||"dd.mm.yyyy",this.rowsperpage=this.rowsperpage||this.data.rowsperpage,this.data.records)for(r in this.data.itemNames=[],s=-1,this.data.records[0])s+=1,this.data.itemNames[s]=r;this.gotData()},this.displayHTML=function(){var arr=[],a,l,ll,rowClone,x,j,i,ii,iii,cc,repeat,repeatObj,repeatX="";if(this.messageDIV&&this.closeMessage(),this.template||manageTemplate(this),!this.template)return!1;if(null===this.template)return this.displayMessage("The template does not exist."),!1;for(this.html=this.template.cloneNode(!0),arr=this.getElementsByAttribute(this.html,"appml-repeat"),l=arr.length,j=0;j<l;j+=1){if(cc=arr[j].getAttribute("appml-repeat").split(" "),1==cc.length?repeat=cc[0]:(repeatX=cc[0],repeat=cc[2]),arr[j].removeAttribute("appml-repeat"),repeatObj=eval("this.data."+repeat)||eval("this."+repeat),!repeatObj)return this.displayMessage("appml-repeat must be an array.\n\n'"+repeat+"' is not an Array.\n\n"),-1;if(repeatObj&&"object"==typeof repeatObj&&"undefined"!=repeatObj.length)for(x in i=0,repeatObj){for(i+=1,rowClone=arr[j].cloneNode(!0),rowClone=this.needleInHaystack(rowClone,"element",repeatX,repeatObj[x]),a=rowClone.attributes,ii=0;ii<a.length;ii+=1)a[ii].value=this.needleInHaystack(a[ii],"attribute",repeatX,repeatObj[x]).value;i===repeatObj.length?arr[j].parentNode.replaceChild(rowClone,arr[j]):arr[j].parentNode.insertBefore(rowClone,arr[j])}}if(this.html=this.needleInHaystack(this.html,"element"),this.data.records)for(i=1;i<=this.data.records.length;i+=1)for(j=0;j<3;j+=1)for(0===j&&(a=this.html.getElementsByTagName("select")),1===j&&(a=this.html.getElementsByTagName("input")),2===j&&(a=this.html.getElementsByTagName("textarea")),l=a.length,ii=0;ii<l;ii+=1)for(ll=this.data.itemNames.length,iii=0;iii<ll;iii+=1)a[ii].id.toLowerCase()===this.data.itemNames[iii].toLowerCase()&&(a[ii].value=this.data.records[i-1][this.data.itemNames[iii]]);this.container.parentNode.replaceChild(this.html,this.container),this.container=this.html,this.setCommandsClick(),this.message="done",this.controller&&window[this.controller](this)},this.needleInHaystack=function(elmnt,typ,repeatX,x){var rowClone,pos1,haystack,pos2,needle=[],needleToReplace,i,cc,replaceFast=-1,r;for(rowClone=elmnt,pos1=0;pos1>-1&&(haystack="attribute"==typ?rowClone.value:rowClone.innerHTML,pos1=haystack.indexOf("{{",pos1),-1!==pos1);){for(pos2=haystack.indexOf("}}",pos1+1),needleToReplace=haystack.substring(pos1+2,pos2),needle=needleToReplace.split("||"),i=0;i<needle.length;i+=1){this.display={},needle[i]=appmlTrim(needle[i]),this.display.name=needle[i];try{this.display.value=eval("this.data."+needle[i])}catch(e){this.display.value=void 0}if(null==this.display.value)try{this.display.value=eval("this."+needle[i])}catch(e){this.display.value=void 0}if(null==this.display.value)try{cc=needle[i].split("."),cc[0]==repeatX&&(this.display.value=x[cc[1]],this.display.name=cc[1])}catch(e){this.display.value=void 0,this.display.name=needle[i]}if(null==this.display.value)try{this.display.value=x[needle[i]]}catch(e){this.display.value=void 0}if(null==this.display.value)try{needle[i]==repeatX&&(this.display.value=x)}catch(e){this.display.value=void 0}if(null!=this.display.value&&this.controller){this.message="display",window[this.controller](this);break}}null!=this.display.value&&(r="{{"+needleToReplace+"}}","attribute"==typ?rowClone.value=rowClone.value.replace(r,this.display.value):(-1===replaceFast&&(replaceFast=checkReplaceInnerHTML(rowClone)),this.replaceHTML(rowClone,r,this.display.value,replaceFast))),pos1+=1}return rowClone},this.replaceHTML=function(e,t,i,a){var s,r,l,n,o,p,h;if(e.hasAttributes())for(l=(s=e.attributes).length,o=0;o<l;o+=1)s[o].value.indexOf(t)>-1&&(s[o].value=s[o].value.replace(t,i));if(1===a)e.innerHTML=e.innerHTML.replace(t,i);else{for(0==(l=(s=e.getElementsByTagName("*")).length)&&""!=e.innerHTML&&e.innerHTML.indexOf(t)>-1&&(e.innerHTML=e.innerHTML.replace(t,i)),p=0;p<l;p+=1)if(s[p].outerHTML.indexOf(t)>-1)if("TBODY"!==s[p].tagName&&"TR"!==s[p].tagName)s[p].innerHTML.indexOf(t)>-1&&(s[p].innerHTML=s[p].innerHTML.replace(t,i));else if(s[p].hasAttributes())for(n=(r=s[p].attributes).length,h=0;h<n;h+=1)r[h].value.indexOf(t)>-1&&(r[h].value=r[h].value.replace(t,i));for(l=(s=e.childNodes).length,p=0;p<l;p+=1)if("#text"!=s[p].nodeName&&s[p].hasAttributes())for(n=(r=s[p].attributes).length,h=0;h<n;h+=1)r[h].value.indexOf(t)>-1&&(r[h].value=r[h].value.replace(t,i))}},this.getElement=function(e,t){var i=t||this.container;if(!i)return!1;var a,s=i.getElementsByTagName("*"),r=s.length,l=e.toUpperCase();for(a=0;a<r;a+=1)if(s[a].id.toUpperCase()===l)return s[a]},this.getElementsByAttribute=function(e,t){var i,a,s=[],r=-1,l=e.getElementsByTagName("*"),n=t.toUpperCase();for(a=l.length,i=-1;i<a;i+=1)-1==i&&(l[i]=e),null!==l[i].getAttribute(n)&&(s[r+=1]=l[i]);return s},this.setCommandsClick=function(){var e,t,i,a,s,r,l,n,o,p=this;if((e=this.getElement("appmlbtn_query"))&&(e.onclick=function(){p.appmlQuery()}),(e=this.getElement("appmlbtn_queryOK"))&&(e.onclick=function(){p.makeQuery()}),(e=this.getElement("appmlbtn_queryClose"))&&(e.onclick=function(){p.getElement("appml_filtercontainer").style.display="none"}),(e=this.getElement("appmlbtn_new"))&&(e.onclick=function(){p.appmlNew()}),(e=this.getElement("appmlbtn_save"))&&(e.onclick=function(){p.putRecord("UPDATE")}),(e=this.getElement("appmlbtn_delete"))&&(e.onclick=function(){p.deleteRecord()}),(e=this.getElement("appmlbtn_close"))&&(e.onclick=function(){p.closeForm()}),!this.data.records)return!1;if(s=this.data.records.length,l=this.data.fromRec,n=this.data.toRec,o=this.data.totalRecCounter,"LIST"!=this.displayType.toUpperCase()&&"FORM"!=this.displayType.toUpperCase())return!1;for(t=1;t<=4;t+=1)a="",1===t&&(i="first",l<=1&&(n===s||n===o)&&(a="disable")),2===t&&(i="previous",l<=1&&(a="disable")),3===t&&(i="next",n===o&&(a="disable")),4===t&&(i="last",(n===o&&Number(l)-1==Number(n)-Number(s)||Number(o)<Number(s))&&(a="disable")),this.getElement("appmlbtn_"+i)&&"disable"===a?this.disableFNPL(i):this.enableFNPL(i);"0"===n&&(l="0"),r=l+" - "+n+" "+this.translate("APPML_MESSAGE_OF")+" "+o,0!==this.maxRecords&&Number(o)>=Number(this.maxRecords)&&(r+="+"),(e=this.getElement("appmlbtn_text"))&&(e.innerHTML=r)},this.disableFNPL=function(e){this.getElement("appmlbtn_"+e)&&(addClass(this.getElement("appmlbtn_"+e),"disabled"),addClass(this.getElement("appmlbtn_"+e),"w3-disabled"),this.getElement("appmlbtn_"+e).onclick=function(){return!1})},this.enableFNPL=function(e){var t=this;this.getElement("appmlbtn_"+e)&&(removeClass(this.getElement("appmlbtn_"+e),"disabled"),removeClass(this.getElement("appmlbtn_"+e),"w3-disabled"),this.getElement("appmlbtn_"+e).onclick=function(){t.fnpl(e)})},this.translate=function(e){var t;return t=/APPML_ERR_USN_OR_PWD_REQ/g,e=e.replace(t,"Username or password required"),t=/APPML_ERR_ACTION_REQ/g,e=e.replace(t,"Action required"),t=/APPML_ERR_MODEL_REQ/g,e=e.replace(t,"Model required"),t=/APPML_ERR_MODEL_ERR/g,e=e.replace(t,"Error in Model"),t=/APPML_ERR_NO_LOGIN/g,e=e.replace(t,"You are not logged in"),t=/APPML_ERR_NOT_AUTHORIZED/g,e=e.replace(t,"You are not authorized to perform this action"),t=/APPML_ERR_DATASOURCE_REQ/g,e=e.replace(t,"Datasource required"),t=/APPML_ERR_KEYFIELD_REQ/g,e=e.replace(t,"Keyfield required"),t=/APPML_ERR_MAINTABLE_REQ/g,e=e.replace(t,"Maintable required"),t=/APPML_ERR_ILLEGAL_ACTION/g,e=e.replace(t,"Illegal action"),t=/APPML_ERR_DATAMODEL/g,e=e.replace(t,"Error in datamodel"),t=/APPML_ERR_INPUT_MIN/g,e=e.replace(t,"Minimum value error"),t=/APPML_ERR_INPUT_MAX/g,e=e.replace(t,"Maximum value error"),t=/APPML_ERR_INPUT_REQ/g,e=e.replace(t,"Required value error"),t=/APPML_ERR_ILLEGAL_QUERY/g,e=e.replace(t,"Illegal query error"),t=/APPML_ERR_UKNOWN_DB/g,e=e.replace(t,"Unknown database"),t=/APPML_ERR_UKNOWN_DB_FIELD/g,e=e.replace(t,"Unknown database field"),t=/APPML_ERR_INVALID_KEY/g,e=e.replace(t,"Invalid key"),t=/APPML_ERR_ERROR/g,e=e.replace(t,"Error"),t=/APPML_MESSAGE_RECORD_UPDATED/g,e=e.replace(t,"Record updated"),t=/APPML_MESSAGE_RECORD_ADDED/g,e=e.replace(t,"Record added"),t=/APPML_MESSAGE_RECORD_DELETED/g,e=e.replace(t,"Record deleted"),t=/APPML_MESSAGE_OF/g,e=e.replace(t,"of")},this.displayMessage=function(e){var t=this.messageDIV||this.getElement("appmlmessage")||"";if(""!==t)""===e?(t.innerHTML="",t.style.display="none"):(this.getElement("message",t).innerHTML=e,t.style.display="block");else{if(""===e)return;window.alert(e)}},this.setError=function(e,t){if(this.error.number=e,this.error.description=t,this.controller&&(this.message="error",-1==window[this.controller](this)))return-1;this.displayMessage(this.error.description)},this.putRecord=function(e){var t,i,a,s,r,l,n,o,p="",h=e;if(this.controller&&(this.message="submit",-1==window[this.controller](this)))return-1;if("UPDATE"===h&&""===this.data.records[0][this.data.keyField]&&(h="ADD"),this.app={},this.app.action=h,"ADD"!==h&&(this.app.appmlid=this.data.records[0][this.data.keyField]),this.app.record={},this.app.record.items=[],this.app.record.values=[],this.app.record.types=[],"DELETE"!==h)for(a=this.data.updateItems.length,i=0;i<a;i+=1)(s=this.getElement(this.data.updateItems[i].item))&&(r=s.id,l=s.value,this.app.record.items.push(r),this.app.record.values.push(l));if("local"===this.dataSource.substr(0,5))return this.appFile=this.dataSource.substr(6),void localStorage(this);t=JSON.stringify(this.app),n=this.xmlHttp(this.dataSource,t,"POST");try{this.upd=JSON.parse(n.responseText)}catch(e){p=n.responseText}if(this.upd&&this.upd.error&&(p=this.upd.error),""!=p)return this.displayMessage(p),-1;o=this.translate(this.upd.updatemessage),"ADD"===h&&(this.app.appmlid=this.upd.updateID,this.data.records[0][this.data.keyField]=this.upd.updateID),this.displayMessage(o),"DELETE"===h&&this.clear(),this.list&&(this.list.data.totalRecCounter=0,this.list.fnpl("same"))},this.deleteRecord=function(){if(!1===window.confirm("Are you sure you want to delete this record?"))return-1;this.putRecord("DELETE")},this.appmlNew=function(){this.run("NULL")},this.newRecord=function(){this.run("NULL")},this.saveRecord=function(){this.putRecord("UPDATE")},this.clear=function(){this.closeMessage(),this.container.style.display="none"},this.closeForm=function(){this.clear()},this.closeMessage=function(){this.displayMessage("")},this.xmlHttp=function(e,t,i,a,s){var r,l=a;return!0!==l&&(l=!1),"GET"!==i&&"POST"!==i?(window.alert("The httpRequest requires GET or POST"),!1):(window.XMLHttpRequest?r=new XMLHttpRequest:window.ActiveXObject&&(r=new ActiveXObject("Microsoft.XMLHTTP")),r&&(!0===l&&s&&(r.onreadystatechange=s),r.open(i,e,l),r.send(t),!1===l)?r:void 0)},this.appmlQuery=function(){var e,t,i,a,s,r,l,n;for(e=this.getElement("appml_filtercontainer"),t=this.queryFields?this.queryFields.length:0,n=0;n<t;n+=1)i=this.queryFields[n],a=this.queryValues[n]||"",s=this.queryOperators[n]||"",this.getElement("appml_query_"+i,e)&&(this.getElement("appml_query_"+i,e).value=a),""!==s&&this.getElement("appml_operator_"+i,e)&&(this.getElement("appml_operator_"+i,e).value=s);for(this.data.filteritems&&0!==this.data.filteritems.length||(this.getElement("appml_filter",e).style.display="none"),t=this.orderBys?this.orderBys.length:0,n=0;n<t;n+=1)r=this.orderBys[n]||"",l=this.orderByDirections[n]||"asc",this.getElement("appml_orderselect",e).value=r,this.getElement("appml_orderdirection_"+l,e).checked=!0;!this.getElement("appml_orderby",e)||this.data.sortitems&&0!==this.data.sortitems.length||(this.getElement("appml_orderby",e).style.display="none"),e.style.display="block"},this.makeQuery=function(){var e,t,i,a,s,r,l,n,o,p,h,d,u,c="",m="=",y="",g=[],f=[],E=-1;for(i=this.queryFields.length,s=0;s<i;s+=1)this.queryFields.pop();for(i=(e=this.getElement("appml_filtercontainer").getElementsByTagName("*")).length,s=0;s<i;s+=1)if(e[s].id&&"appml_query_"===e[s].id.substr(0,12)&&(l=e[s].id.substr(12),c=e[s].value,m=Number(this.getElement("appml_operator_"+l).value),y=this.getElement("appml_datatype_"+l).value.toLowerCase(),c.length>0)){if(E+=1,this.queryFields[E]=l,this.queryValues[E]=[],u=c,"number"===y&&(Number(c)||(window.alert("Illegal Number"),c="2...1")),"date"===y){p="",h="",d=0;try{10!==c.length&&9!==c.length&&8!==c.length||(p=new Date(reformatDate(c,this.data.dateFormat)),d=1),7!==c.length&&6!==c.length||(p=new Date(reformatDate("01/"+c,this.data.dateFormat)),(h=new Date(p)).setMonth(p.getMonth()+1),h.setDate(0),d=1),4===c.length&&(p=new Date(c+"/01/01"),h=new Date(c+"/12/31"),d=1)}catch(e){d=0}1===d&&(d=0,isDate(p)&&(d=1),1===d&&""!==h&&isDate(h)&&(d=1)),0===d&&(window.alert("Illegal Date"),p=new Date("2012/01/01"),h=new Date("2011/12/31")),c="#"+p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate()+"#",""!==h&&(c=c+"...#"+h.getFullYear()+"/"+(h.getMonth()+1)+"/"+h.getDate()+"#")}c.indexOf("...")>-1?(this.queryValues[E][0]=c.split("...")[0],this.queryOperators[E]=5,E+=1,this.queryFields[E]=l,this.queryValues[E]=[],this.queryValues[E][0]=c.split("...")[1],this.queryOperators[E]=4):(this.queryValues[E]=c.split("|"),this.queryOperators[E]=m),this.queryDisplayValues[E]=u,this.queryDisplayOperators[E]=m}for(i=(e=this.getElement("appml_filtercontainer").getElementsByTagName("*")).length,n=0,s=0;s<i;s+=1)if(e[s].id&&"appml_orderselect"===e[s].id)for(g[n+=1]=e[s].value,a=(t=this.getElement("appml_filtercontainer").getElementsByTagName("input")).length,r=0;r<a;r+=1)"appml_orderdirection"===t[r].name&&(o="asc",!0===t[r].checked&&(o=t[r].value),f[n]=o);for(s=1;s<=n;s+=1)this.orderBys[s-1]=g[s],this.orderByDirections[s-1]=f[s];this.data.totalRecCounter=0,this.fnpl()},this.resetQuery=function(){var e,t,i=this.getElement("appmlquery").getElementsByTagName("INPUT");for(t=i.length,e=0;e<t;e+=1)"appml_query_"===i[e].id.substr(0,12)&&"no"!==i[e].getAttribute("reset")&&(i[e].value="");for(t=(i=this.getElement("appmlquery").getElementsByTagName("SELECT")).length,e=0;e<t;e+=1)"appml_query_"===i[e].id.substr(0,12)&&"no"!==i[e].getAttribute("reset")&&(i[e].value="")},this.setQuery=function(e,t,i){var a=this.queryFields.length;a||(a=-1),a+=1,this.queryFields[a]=e,i||(i="text"),this.queryTypes[a]="number",this.queryValues[a]=[],"object"==typeof t?this.queryValues[a]=t:this.queryValues[a][0]=t,this.queryDisplayValues[a]=t,this.queryOperators[a]=0,this.queryDisplayOperators[a]=0,this.data.totalRecCounter=0},this.clearQuery=function(){this.queryFields=[],this.queryValues=[],this.queryDisplayValues=[],this.queryTypes=[],this.queryOperators=[],this.queryDisplayOperators=[],this.data.totalRecCounter=0},this.adoptQuery=function(e){this.queryFields=e.queryFields,this.queryValues=e.queryValues,this.queryDisplayValues=e.queryDisplayValues,this.queryTypes=e.queryTypes,this.queryOperators=e.queryOperators,this.queryDisplayOperators=e.queryDisplayOperators,this.orderBys=e.orderBys,this.orderByDirections=e.orderByDirections,this.data.totalRecCounter=0},this.query=function(e,t,i){this.setQuery(e,t,i),this.run()},this.setOrder=function(e,t){var i="asc";t&&""!==t||this.orderBys[0]===e&&"asc"===this.orderByDirections[0]&&(i="desc"),this.orderBys.splice(0,0,e),this.orderByDirections.splice(0,0,i)},this.order=function(e,t){this.setOrder(e,t),this.fnpl()}}x=function(){new AppML("","","invoke").invokeAppML()},window.addEventListener?window.addEventListener("load",x):window.attachEvent&&window.attachEvent("onload",x);